<%= form_for(@operation, url: integration_request_operation_path(@integration_request), html: { class: 'form-horizontal' }) do |f| %>
  <fieldset>
    <legend>Información del comprador</legend>
    <div class="control-group">
      <%= f.label :buyer_full_name, class: 'control-label' %>
      <div class="controls">
        <%= f.text_field :buyer_full_name %>
      </div>
    </div>

    <div class="control-group">
      <%= f.label :buyer_document_type, class: 'control-label' %>
      <div class="controls">
        <%= f.select :buyer_document_type, buyer_document_types_collection %>
      </div>
    </div>

    <div class="control-group">
      <%= f.label :buyer_document_number, class: 'control-label' %>
      <div class="controls">
        <%= f.text_field :buyer_document_number %>
      </div>
    </div>

    <div class="control-group">
      <%= f.label :buyer_email, class: 'control-label' %>
      <div class="controls">
        <%= f.text_field :buyer_email %>
      </div>
    </div>

    <div class="control-group">
      <%= f.label :buyer_address, class: 'control-label' %>
      <div class="controls">
        <%= f.text_field :buyer_address %>
      </div>
    </div>

    <div class="control-group">
      <%= f.label :buyer_phone, class: 'control-label' %>
      <div class="controls">
        <%= f.text_field :buyer_phone %>
      </div>
    </div>
  </fieldset>

  <fieldset>
    <legend>Información del Pago</legend>
    <div class="control-group">
      <%= f.label :payment_method_type, class: 'control-label' %>
      <div class="controls">
        <%= f.select :payment_method_type, payment_method_types_collection %>
      </div>
    </div>

    <div class="control-group">
      <%= f.label :payment_method, class: 'control-label' %>
      <div class="controls">
        <%= f.select :payment_method, payment_methods_collection %>
      </div>
    </div>

    <div class="control-group">
      <%= f.label :number_of_payments, class: 'control-label' %>
      <div class="controls">
        <%= f.select :number_of_payments, number_of_payments_collection %>
      </div>
    </div>

    <div class="control-group">
      <%= f.label :buyer_comment, class: 'control-label' %>
      <div class="controls">
         <%= f.text_area :buyer_comment, rows: 5 %>
      </div>
    </div>
  </fieldset>

  <fieldset>
    <legend>Transiciones</legend>
    <table class="table">
      <thead>
        <tr>
          <th></th>
          <th>Estado</th>
          <th>Demorar</th>
          <th>Notificar</th>
        </tr>
      </thead>
      <tbody>
        <%= f.fields_for :transitions do |transition_fields| %>
          <tr>
            <td><span class="badge"><%= transition_fields.index + 1 %></span></td>
            <td><%= transition_fields.select :status, statuses_collection %></td>
            <td><%= transition_fields.select :schedule_delay, schedule_delays_collection %></td>
            <td><%= transition_fields.select :notification_delay, notification_delays_collection %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
    <div class="transition_actions">
      <a class="btn btn-mini btn-success add_transition" href="#"><i class="icon-plus icon-white"></i></a>
      <a class="btn btn-mini btn-danger remove_transition" href="#"><i class="icon-minus icon-white"></i></a>
    </div>
  </fieldset>

  <fieldset>
    <div class="form-actions">
      <%= f.submit class: 'btn btn-primary' %>
    </div>
  </fieldset>
<% end %>
